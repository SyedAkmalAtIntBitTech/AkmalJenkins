<div class="background-pop-up" ng-init="schedulePopup = false" ng-if="schedulePopup">
    <div class="bb-panel-default bb-panel-styling" ng-init="getAllMaketingPrograms(selectedSocialmedia)">
        <div class="bb-panel-header">
            <h2 class="">Send or Schedule</h2>
            <a class="modal-pane-header-exit" ng-click="hidePopup('schedulePopup')"></a>
        </div>
        <a class="modal-pane-back-step" ng-click="previousButton()">
            <i></i>
            <span>Go to Previous Step</span>
        </a>
        <div class="bb-panel-content-wrap">
            <div class="create-new-action-schedule-wrap">
                <a class="send-or-schedule-option send-or-schedule-15pad ease-all " ng-class='activeClassNew' ng-click="createNewAction()">
                    <i class="create-action-icon"></i>
                    <div>Create a New Action</div>
                </a>
                <a class="send-or-schedule-option send-or-schedule-15pad ease-all  " ng-class='activeClassExisting' ng-click="existingAction()">
                    <i class="schedule-action-icon"></i>
                    <div>Schedule to an Existing Action</div>
                </a>
            </div>
        </div>
        <div class="bb-panel-content-wrap"  ng-if="existingActionPopup">
            <div class="input-wrap">
                <label>Marketing Campaign Name</label>
                <div class="fluid" dropdown-select="ddSelectMarketingCampaignName" dropdown-model="ddSelectMarketingCampaign" dropdown-onchange="getActions(selectedSocialmedia, selected)"></div>
            </div>
            <div class="input-wrap">
                <label>Action Name</label>
                <div class="fluid" dropdown-select="ddSelectActionName" dropdown-model="ddSelectAction" dropdown-onchange="setAction(selected)"></div>
                <span class="validationAlert" ng-show="actionDropdown">{{actionNameListValidation}}</span>

            </div>
        </div>
        <div class="bb-panel-content-wrap" ng-init="createNewActionPopup = false" ng-if="createNewActionPopup">
            <div class="input-wrap">
                <label>Action Name</label>
                <div class="input">
                    <input  size="100" class="fluid" ng-model="actionName" id="ActionName" ng-class="{'invalid-input': actionName === '' || null}" placeholder="Action Name" />
                </div>
                <span class="validationAlert" ng-if='actionName === "" || null' >{{actionNameValidation}}</span>

            </div>
            <div ng-init="getAllUsersInCompany()">
                <label>Assigned To</label>
                <div>
                    <select id="assignTo" ng-show="moreThanOneUser">
                        <option value="no assignee" selected>no assignee</option>
                        <option ng-repeat="users in allUsers" value="{{users.userId}}">{{users.userName}}</option>
                    </select>
                </div>
            </div>
            <div class="date-time-input-wrap">
                <div class="input-wrap">
                    <label>Action Date</label>
                    <a class="input ">
                        <input class="fluid" type="text" name="datepicker" ng-model="actionDateVal" id="actionDate" ng-class="{'invalid-input': actionDateVal === '' || null}" readonly  placeholder="Enter Action Date" />
                        <script>
                            var picker = new Pikaday(
                                    {
                                        field: document.getElementById('actionDate'),
                                        firstDay: 1,
                                        minDate: new Date(2000, 0, 1),
                                        maxDate: new Date(2050, 12, 31),
                                        yearRange: [2000, 2050]
                                    });
                        </script>
                    </a>
                    <span class="validationAlert" ng-if='actionDateVal === "" || null'>{{scheduleDateValidation}}</span>
                </div>
                <span style="position: relative; bottom: 8px;" class="validationAlert" ng-if="dateLesser">{{lesserDateValidation}}</span>
                <div class="input-wrap">
                    <label>Action Time</label>
                    <a class="input">
                        <input  class="fluid" id="actionTime" type="text" ng-model="actionTimeVal" name="actionTime" ng-class="{'invalid-input': actionTimeVal === '' || null}" size="10"  placeholder="Enter Action Time"  /> 
                        <script src="../js/utilities/timepicki.js" type="text/javascript"></script>
                        <script>
                        $('#actionTime').timepicki({
                            show_meridian: true,
                            min_hour_value: 1,
                            max_hour_value: 12,
                            step_size_minutes: 01,
                            overflow_minutes: true,
                            increase_direction: 'up',
                            disable_keyboard_mobile: true
                        });
                        </script>
                    </a>
                    <span class="validationAlert" ng-if='actionTimeVal === "" || null'>{{scheduleTimeValidation}}</span>

                </div>
            </div>
        </div>
        <div class="modal-cta-container" ng-click="schedulePost(selectedSocialmedia, postData)">
            <a class="long-button blue-button">{{scheduleButtonData}}</a>
        </div>
    </div>
</div>