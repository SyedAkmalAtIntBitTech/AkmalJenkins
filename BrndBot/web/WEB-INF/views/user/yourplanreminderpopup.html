<div class="overlay-wrap overlay-slide" id="notediv" ng-init='hideReminderSaveButton()' ng-class="reminderSectionClass">
    <!--MainContent-->
    <div class="detail-overlay-content">
        <input type="hidden" id="remainder_id" value="{{scheduleData.schedule_id}}"/>
        
        <!--TOP NAV BAR-->
        <div class="header">
            <a class="exit-button" ng-click="closePopup();isDeletePromptOpen(false);marketingTab.selectTab(4);" href="">
            </a>
            <h2> Task Detail</h2>
            <div class="overlay-header-cta-wrap">
            <a class="reg-button gray-button" ng-show="action_template_status === 'No Template'" ng-click="Approval(schedule_id, 'complete', masterActionType)">
                Mark Complete
            </a>
             <a class="reg-button gray-button" id="marketingemailapprove" ng-show="action_template_status === 'Complete'" ng-click="Approval(schedule_id, 'no_template', masterActionType)">
                Change to Incomplete
            </a>                
                <div class="action-delete-button" ng-click="isDeletePromptOpen(true)"></div>
                <div ng-show="clickedDeleteAction" class="action-pop-up delete-action-pop-up ease-all">
                    <strong>Are you sure you want to delete this action?</strong>
                    <p>All data will be erased and you will lose any saved emails and posts</p>
                    <div class="cta-wrapper">
                        <a ng-click="isDeletePromptOpen(false)" href="" class="cancel-button">Cancel</a>
                        <a ng-click="deleteSchedule(scheduleData.schedule_id, 'delete', getnote());marketingTab.selectTab(4);" href="" class="delete-button">Delete</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="bb-top-sub-nav bb-top-sub-nav-backbutton-offset" ng-show="pushedEmail==false">
            <div class="bb-top-sub-nav-tab" ng-if="isEmailHistory">
                <a id="emailnote1" ng-click="setTab('emailHistory')" ng-class="top_subnav_link_active_emailHistoryDetail_Class" href="">Email History Details</a>
            </div>
            <div class="bb-top-sub-nav-tab">
                <a id="emailaction1" val="{{schedule_id}}" ng-click="marketingTab.selectTab(5);yourplanTab.selectTab(5);getActionComments(schedule_id);clickedDeleteAction = false;promptHideShow(false); isTask=true;" ng-class="{'top-subnav-link-active-detail-Class':marketingTab.isSelected(5) || yourplanTab.isSelected(5)}" href="">Action Details</a>
            </div>
            <div class="bb-top-sub-nav-tab ">
                 <a id="emailnote1" ng-click="marketingTab.selectTab(7);yourplanTab.selectTab(7);getActionComments(schedule_id);clickedDeleteAction = false;promptHideShow(false);isTask=false" ng-class="{'top-subnav-link-active-detail-Class':marketingTab.isSelected(7) || yourplanTab.isSelected(7)}"  href="">Collaboration</a>
            </div>
        </div>
        
        <!--Below Nav-->
        <div class="overlay-content-saved-email-draft" ng-show="isTask == true">
            <div hidden="" id="note_desc" class="instruction-text">{{scheduleData.schedule_desc}}</div>
            <div class="overlay-name-bar">
                <input  size="40" type="text" id="edit_note_title" ng-change="showReminderSaveButton()" ng-model="scheduleData.schedule_title"  name="edit_note_title" value="{{scheduleData.schedule_title}}" />
                <input class="inputbox SP1" type="hidden" name="note_scheduleid" id="note_scheduleid" value='{{scheduleData.schedule_id}}'/>
                <input class="inputbox SP1" type="hidden" name="note_action_type" id="note_action_type" value='{{scheduleData.schedule_type}}'/>
                <input class="inputbox SP1" type="hidden" name="note_status" id="note_status" value='{{scheduleData.schedule_type}}'/>
            </div>
            <span class="validationAlert general-action-alert " ng-if='scheduleData.schedule_title === "" || null'>{{actionNameValidation}}</span>

            <div class="overlay-details-pane">
                <div class="overlay-details-pane-header">TASK DESCRIPTION</div>
                <div class="detail-sections-wrap-task-textarea">
                    <textarea ng-model="scheduleData.schedule_desc" ng-change="showReminderSaveButton()" class="task-textarea" id="reminderdesc{{scheduleData.schedule_id}}" placeholder="Text Goes here!">{{scheduleData.schedule_desc}}</textarea>
                </div>
            </div>
            <div class="overlay-details-pane">
                    <div class="overlay-details-pane-header">TASK DETAILS</div>
                    <div class="detail-sections-wrap">
                        <input type="hidden" class="textbox" id="emaildays" name="emaildays" value="0"/>
                       
                        <div class="detail-section half">
                            <label class="detail-section-label">Date</label>
                            <a class="overlay-detail-input date-input ease-all">
                                <img type="" class="date-time-input-img" src="/BrndBot/images/calendar-gray.svg" />
                                <input type="text" ng-blur="showReminderSaveButton()" id="emaildatetime1" name="emaildatetime1" />
                                    <script>
                                        
                                        var picker = new Pikaday(
                                                {
                                                    field: document.getElementById('emaildatetime1'),
                                                    format: kGlobalDateFormat,
                                                    firstDay: 1,
                                                    minDate: new Date(2000, 0, 1),
                                                    maxDate: new Date(2050, 12, 31),
                                                    yearRange: [2000, 2050]
                                                });
                                                
                                    </script>
                            </a>
                            <span class="validationAlert" ng-if='generalTimeAction'>{{actionDateValidation}}</span>
                        </div>
                       <div class="detail-section half"  style="margin-left:20px;">
                            <label class="detail-section-label">Time of Day</label>
                            <a class="overlay-detail-input time-input ease-all">
                                <img type="" class="date-time-input-img" src="/BrndBot/images/time-gray.svg" />
                                <input type="text" ng-blur="showReminderSaveButton()" id="timepickertextbox" name="timepickertextbox" value="{{scheduleData.schedule_time}}" readonly />
                                
                                <script>
                                        $('#timepickertextbox').timepicki({
                                            show_meridian: true,
                                            min_hour_value: 1,
                                            max_hour_value: 12,
                                            step_size_minutes: 01,
                                            overflow_minutes: true,
                                            increase_direction: 'up',
                                            disable_keyboard_mobile: true
                                        });
                                </script>
                            </a>
                        </div>
                    </div>
                    <span class="validationAlert" ng-if='dateLesser'>{{lesserDateValidation}}</span>
            </div>
            <!--<div ng-include src="'generalActionDetails.html'"></div>-->
            <div ng-init="getActionComments(schedule_id)">
            <div class="overlay-details-pane" ng-show="isRecurring === false">
                    <div class="overlay-details-pane-header">ACTION ACTIVITY</div>
                    <div class="detail-sections-wrap">
                        <!--PUT ACTIVITY HERE-->
                    <div class="action" style="padding:0px 30px;  border-radius: 3px;  "ng-repeat="comment in comments">
                        <div style="background-color:white;">
                        <div style="display: inline-flex;" ng-show="comment.isActivity==true">
        <!--                    <div style="height:30px; width:30px; line-height: 30px; text-align: center; margin-right: 10px; border-radius: 30px; background-color:lightblue; font-size: 14px; font-weight: bold; color: white;">{{comment.initials}}
                            </div>-->
                            <span style="margin: 0px 5px; line-height: 10px; font-size: 12px; color:#3f3f42;"><b>{{comment.createdByFirstName}} {{comment.createdByLastName}}</b></span>
                            <span style="margin: 0px 5px; line-height: 10px; font-size: 12px; color:#3f3f42;">{{comment.activityName}} </span>
                            <span style="margin: 0px 5px; line-height: 10px; font-size: 12px; color:#3f3f42;">{{comment.assignedToFirstName}} {{comment.assignedToLastName}}</span>
                            <span style=" font-size: 12px; color: #7c7d82; line-height: 10px; margin-left: 10px; ">{{comment.createdAt | date:"MMMM d, y 'at' h:mma"}}</span>
                        </div>
                        </div>

                    </div>                        
                    </div>
                </div>
            </div>
            
    </div>
            <div ng-include src="'generalActionNotes.html'"></div>
        
    </div>   
    <div  id="reminderactionsave" class="bottom-cta-button-container-overlay"  ng-show="showReminderUpdateBtn">
        <a class="reg-button success-button" id="updateAction" ng-click="updateAction(scheduleData);marketingTab.selectTab(4);" ng-show="isRecurring === false" >Save Reminder</a>
    </div>    
</div>