
<style>
    .black_overlay {
        display: block !important;
    }
</style>
<div ng-init="checkEmailList()">
<div class="content-main" ng-if="showEmailListDetails" >
    <div ng-show="overlayFade" id="fade" class="black_overlay"  ng-click="closeAddContactPopup()"></div> 
    <div ng-include src="'addcontact.html'"></div> 
    <input type="hidden" id="get_list_name" value="{{emailListName}}"/>
    <input type="hidden" id="get_type" value="{{type}}"/>   
    
    <!--Top Nav-->
    <div class="bb-top-nav">
    <div class="bb-bar-left-wrap bb-one-third-flex-col">
        <a href="basemarketinghub#/emaillist" class="bb-back-button" ng-click="marketingHubTab.selectTab(3)"></a>
        <h3 class="bb-top-nav-title">{{emailListName}}</h3>
    </div>       
    <div class="bb-bar-right-wrap bb-one-third-flex-col">
        <a id="unselect" href="" class="gray-button reg-button pushright fleft" ng-show="deSelectCheckboxButton">
            <div class=" md-button" ng-click="deSelectCheckbox()"> Unselect Contacts</div>    
        </a>
        <a href="" id="delcontact" class="delete-button reg-button fleft" ng-show="selectCheckboxButton">
            <div class=" md-button" ng-click="deleteSelected()"> Delete Contact</div>    
        </a>
        
    </div>
</div>

        <div class="bb-top-sub-nav bb-top-sub-nav-backbutton-offset">
            <div class="bb-top-sub-nav-tab"  id="emailListli" ng-click="marketingHubTab.selectTab(5);showUpdateList()"><a  ng-class="{activeTab:marketingHubTab.isSelected(5)}">Email List Contacts</a></div>
           <div class="bb-top-sub-nav-tab"  id="importListli" ng-click="marketingHubTab.selectTab(6);showAddContacts()"><a id="importList" ng-class="{activeTab:marketingHubTab.isSelected(6)}">Add Multiple Contacts</a></div>
        </div>
    <!--Main Content--> 
    <div class="bb-main-content-wrap bb-main-content-wrap-emaillist bb-main-content-wrap-padding" ng-show="marketingHubTab.isSelected(5)">
    <div class="bb-panel-full-width bb-panel-styling" ng-init="updateList()">
            <div class="bb-panel-header">
                <h2 class="">Email List Contacts</h2>
                <input class="input" type="text" placeholder="Search" ng-model="userSearch">
                <a ng-hide="isMINDBODYEmailLIstDetails" class="bb-button bb-default-action-button" ng-click="addContactDetails('add','','','','')"> Add Contact</a>
            </div>
            <div class="bb-panel-full-width bb-panel-styling-content-wrap">
                
                <!--Empty List-->
                <div class="hub-empty-wrap" ng-show="noContacts">No Contacts in List</div>
                <div class="external-data-loading-wrap" ng-show="hideGifImage">
                        <div class="external-data-loading-block">
                            <div class="loader"></div>
                            <div class="loader-description">Loading your content</div>
                        </div>
                </div>
               
                <div class="bb-slat-list-wrap" >
                    <div class="external-data-loading-wrap" ng-if="showDataLoader">
                        <div class="external-data-loading-block">
                            <div class="loader"></div>
                            <div class="loader-description">Loading your content</div>
                        </div>
                    </div>
                    
                      <!--User Created List-->
                    <div class="bb-slat-no-hover" ng-repeat="email in user_emailAddresses | filter:userSearch">
                        <div class="selection-container col-5p fleft" ng-hide="isMINDBODYEmailLIstDetails"> 
                            <div class="selection-icon" id="{{email.contactLookupId}}" ng-click="selectedEmailListCheckbox(email.contactLookupId)">
                                <input type="checkbox" id="emailid{{email.fkContactId.emailAddress}}" value="{{email.fkContactId.emailAddress}}" name="emaillistname" hidden></input>
                            </div>
                        </div>   
                        
                        <div class="slat-name-wrap">
                            <h2>{{email.fkContactId.emailAddress}}</h2>
                            <p>Added {{email.addedDate| date:'  M/dd/yyyy'}}</p>
                        </div>
                        <div class="slat-detail-wrap">
                            <div class="slat-detail" ng-show="email.fkContactId.firstName != ''">
                                <h2 class="overflowclass">{{email.fkContactId.firstName}}</h2>
                               <p>First Name</p>
                           </div>
                        </div>
                        <div class="slat-detail-wrap">
                            <div class="slat-detail" ng-show="email.fkContactId.lastName != ''">
                                <h2 class="overflowclass">{{email.fkContactId.lastName}}</h2>
                               <p>Last Name</p>
                           </div>
                        </div>
                        <div class="slat-detail-wrap">
                            <div class="slat-detail">                           
                                <a href="" class="reg-button slat-detail-button" ng-click="addContactDetails('update',email.fkContactId.emailAddress,email.fkContactId.contactId,email.fkContactId.firstName,email.fkContactId.lastName,email.addedDate)">Edit Contact</a>
                            </div>
                        </div>
                    </div>
                    
                    <!--MINDBDOY Connected Email List-->
                    <div class="bb-slat-no-hover" ng-repeat="email in mindbody_emailAddresses | filter:userSearch">
<!--                 <div class="selection-container col-5p fleft" id="hideformindbdy"> 
                        </div>                 -->
                        <div class="slat-name-wrap">
                            <h2>{{email.fkContactId.emailAddress}}</h2>
                            <p>Added {{email.addedDate| date:'  M/dd/yyyy'}}</p>
                        </div>
                         <div class="slat-detail" ng-show="email.fkContactId.firstName !== ''">
                            <h2>{{email.fkContactId.firstName}}</h2>
                            <p>First Name</p>
                        </div>
                         <div class="slat-detail" ng-show="email.fkContactId.lastName !== ''">
                            <h2>{{email.fkContactId.lastName}}</h2>
                            <p>Last Name</p>
                        </div>
<!--                        <div class="slat-detail-wrap">
                            <div class="slat-detail">
                                <a href="" class="reg-button slat-detail-button" ng-click="addContactDetails('update',email.emailAddress,email.contactId,email.firstName,email.lastName)">Edit Contact</a>
                            </div>
                        </div>-->
                    </div>
                </div>
            </div>
        </div>
        </div>
    
    <!-- Import Contacts-->   
    <div class="bb-panel-full-width bb-panel-styling-content-wrap" id="tab4" class="hide" >
            <div class="bb-panel-full-width bb-panel-styling">
            <div class="bb-panel-header">
                <h2 class="">Import Email Addresses into {{emailListName}}</h2>
               
            </div>
            <div class="bb-panel-content-wrap" >
               
                    <div class="hub-section">
                     <div class="section-header">
                         <h3>Upload from a CSV</h3>
                        <p>Choose a CSV with email addresses in the first column to upload.</p>
                     </div>
                    <input type="file" class="fileUpload" id="fileUpload" name="fileUpload"><br>
                    <span class="validationAlert" ng-if="csvUpload">{{uploadCsvValidation}}</span><br>
                    <input class="bb-button bb-default-action-button" type="button" id="upload" value="Upload" ng-click="uploadCsv()" />
                </div>
                    <div class="hub-section">
                     <div class="section-header">
                         <h3>Manually Enter Multiple Email Addresses</h3>
                        <p>Copy and paste or write in multiple addresses below seperated by a semicolon.</p>
                     </div>
                    <div id="dvCSV"></div>
                    <textarea id="textArea" style="margin-bottom:20px; width:400px; height:150px;"></textarea>
                     <span class="validationAlert" ng-if="importContacts">{{importContactValidation}}</span><br>
                <input  id="emailSubjectContinueButton" type="button" class="bb-button bb-default-action-button" value="Update" ng-click="updateEmailList();">
                </div>
                
                   
                    <br>
                </div><br>
                
                                   
               
            </div>
                    
                </div>
            </div>
            
        </div>
</div>
</div>

        
        
        
        