
<div ng-include src="'addaction.html'"></div>
<div class="main-content-wrap">
    <div class="top-nav-wrap">
        <div class="header">
            <h2 class="">Your Plan</h2>
            <div class="top-nav-cta-container">
               
            </div>
        </div>
    <div class="top-sub-nav">
         <a href="javascript:void(0)" class="reg-button green-button" style="margin:0px 30px;" id="liPriority" ng-click="ShowAddAction()">Add Action</a>
        <div class="" ng-click="setCurrentDateActions()">
            <div class="your-plan-cal-dropdown" for="jumptodatepicker" > 
                <label for="jumptodatepicker"><i style="cursor: pointer;"></i></label>
                <label class="datepickerClass your-plan-cal-dropdown-label dateSelection subnav-date-dropdown-text " for="jumptodatepicker" >Jump to Date</label>
                <input type="text"  name="datepicker" id="jumptodatepicker" readonly class="hideinput"/>
            </div>

            <script>
                var picker = new Pikaday(
                        {
                            field: document.getElementById('jumptodatepicker'),
                            format: 'YYYY-MM-DD',
                            firstDay: 1,
                            minDate: new Date('2000-01-01'),
                            maxDate: new Date('2050-12-31'),
                            yearRange: [2000, 2050],
                            onSelect: function () {
                                var mydate = this.getMoment();
                                var mydt = mydate.toLocaleString();
                                var myDate = new Date(mydt);
                                angular.element(document.getElementById('yourPlanController')).scope().setCurrentDate(myDate);
                            }
                        });
            </script>
        </div>
    </div>
     </div>
    <div class="top-nav-bar-offset"></div>
    <div class="top-subnav-bar-offset"></div>

    <div class="content-wrap content-wrap-padding content-wrap-with-sub-nav" ng-init="getCampaigns()">
        <div class="your-plan-wrap" ng-repeat="entity in entitySet">
            <div class="your-plan-pane" >
                <div class="action-list-pane-header">
                    <h3 class="your-plan-date" ng-show="entity.date == today_date">Today's Actions</h3>
                    <h3 class="your-plan-date" ng-show="(entity.date != today_date)">{{getDayOfMonth(entity.date)}} {{myYear(mySplit(entity.date, 1))}} {{mySplit(entity.date, 2)}} {{mySplit(entity.date, 0)}}</h3>
                </div>
                <div class="your-plan-action-wrap" ng-repeat="entitydetails in entity.dataArray">
                    <div class="slat">
                        <div class="your-plan-icon-wrap">
                            <div ng-show="entitydetails.entity_type != master_note">
                                <div class="your-plan-icon hint--top" ng-show="entitydetails.template_status == 'Template Saved'"  data-hint="Template Saved" > 
                                    <img src="/BrndBot/images/template-saved.svg" />
                                </div>
                                <div class="your-plan-icon hint--top" ng-show="entitydetails.template_status == 'No Template'"  data-hint="No Template" >
                                    <img src="/BrndBot/images/no-template.svg"/>
                                </div>
                                <div class="your-plan-icon hint--top" ng-show="entitydetails.template_status == 'Complete'"  data-hint="Complete" > 
                                    <img src="/BrndBot/images/template-complete.svg"/>
                                </div>
                                <div class="your-plan-icon hint--top" ng-show="entitydetails.template_status == 'Approved'"  data-hint="Approved" > 
                                    <img src="/BrndBot/images/template-approved.svg"/>
                                </div>
                            </div>
                            <div ng-show="entitydetails.entity_type == master_note">
                                <!--Need an ng-show if reminder is incomplete-->
                                <div class="your-plan-icon hint--top" data-hint="Reminder" ng-show="entitydetails.template_status == 'No Template'" > 
                                    <img src="/BrndBot/images/task-status_task.svg"/>
                                </div>
                                <!--Need an ng-show if reminder is complete-->
                                <div class="your-plan-icon hint--top" data-hint="Reminder" ng-show="entitydetails.template_status == 'Complete'"> 
                                    <img src="/BrndBot/images/task-status_completed-task.svg"/>
                                </div>
                            </div>
                        </div>

                        <div class="slat-name-wrap">
                            
                            <h2>{{entitydetails.schedule_title}}</h2>
                            <p ng-show="entitydetails.user_marketing_program_id > 0">{{entitydetails.marketingName}}</p>
                            <p ng-show="entitydetails.user_marketing_program_id == 0">No Marketing Program</p>
                        </div>

                        <div class="slat-detail-wrap slat-detail-wrap-your-plan">
                            <div class="slat-detail">
                                <h2 ng-show="entitydetails.entity_type == master_facebook || entitydetails.entity_type == master_twitter">{{entitydetails.entity_type}}</h2>
                                <h2 ng-show="entitydetails.entity_type == master_email">{{entitydetails.entity_type}}</h2>
                                <h2 ng-show="entitydetails.entity_type == master_note">Task</h2>
                                <p>Action Type</p>
                            </div>
                        </div>


                        <div class="slat-detail-wrap">
                            <div class="slat-detail">
                                <a class="reg-button slat-detail-button" 
                                   ng-click="getScheduleDetails(entitydetails.schedule_id,
                                                       entitydetails.template_status,
                                                       entitydetails.schedule_time,
                                                       entitydetails.entity_type,
                                                       entitydetails.schedule_title,
                                                       entitydetails.schedule_description,
                                                       entitydetails.marketingName,
                                                       entitydetails.user_marketing_program_id,
                                                       entitydetails.days,
                                                       entitydetails.is_today_active, entity.date)">Action Details</a>
                            </div>
                        </div>

                    </div>

                </div>
                <div class="slat" ng-show="entity.dataArray == ''">
                    <div class="your-plan-empty-date"> No actions scheduled for today</div>
                </div>
            </div>
        </div>
        <div class="bottom-offset"></div>
    </div>

</div>
