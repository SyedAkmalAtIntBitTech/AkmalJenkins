<div class="main-content-wrap no-side-nav">
    <div class="top-nav-wrap full">
        <div class="sequence-page-header">
            <div class="sequence-left-wrap">
                <div class="sequence-logo-wrap">
                    <img class="sequence-logo-svg" src="/BrndBot/user/images/Logo_Reverse.svg" />
                </div>
                <a class="sequence-page-back-button" href="marketingprogramlists" ng-show="automationEditor === false"></a>
                <a class="sequence-page-back-button" href="marketingprogramlists"></a>
                <h2 class="sequence-page-title"> Create an Email Automation</h2>
            </div>
            <div class="sequence-step-wrap">
                <ul>
                    <a class="sequence-step active">Set Up</a>
                    <a class="sequence-step">Email Design</a>
                </ul>
            </div>
            <div class="sequence-page-header-cta-wrap">
                <a>Exit</a>
            </div>
        </div>
    </div>
    <div class="top-s-nav-bar-offset"></div>
    
    <!--Set Up View-->
    <div class="content-wrap content-wrap-sequence-page content-wrap-padding" ng-show="automationEditor === false">
          <div class="hub-pane" ng-init="getEntityDetails();">
            <div class="hub-pane-header-wrap">
                <h2 class="">Email Automation Set Up</h2>
                
            </div>
            <div class="hub-pane-content-wrap">
                <div class="hub-section">
                     <div class="section-header">
                         <h3>General Details</h3>
                     </div>
                    <div class="input-wrap">
                        <label> Enter a name for this automated email: </label>
                        <div class="input">
                            <input id="recuring_email_title"  type="text" required placeholder="Enter Name of email" ng-model="automationData.title" value="{{entity_details.recurring_email_title}}" class="fluid"/>
                        </div>
                        <p class="input-wrap-label"> Make this something that your clients will recognize</p>
                    </div>
                    <div class="input-wrap">
                        <label> Enter a description</label>
                        <div class="input">
                            <input id="recuring_email_description"  type="text" required  
                               placeholder="Enter description of email" ng-model="automationData.description" value="{{entity_details.recurring_email_description}}" class="fluid"/>
                            <p class="input-wrap-label"> Any replies to your emails will go to this address</p>
                        </div>
                    </div>
                    
                </div>
                <div class="hub-section">
                    <div class="section-header">
                         <h3>Trigger Details</h3>
                    </div>
                    <div class="email-automation-trigger-sentence-wrap">
                        <div class="">
                            Send an email to a recipient
                        </div>
                         <div class="">
<!--                             <select id="days" ng-model="automationData.selectedDay" class="email-automation-trigger-day-drop" ng-options="day for day in days"></select>-->
                         <div dropdown-select="ddSelectDateAutomationDataOptions" dropdown-model="ddSelectDateAutomationData"></div>
                         </div>
                        <div class="">
                             <div class="">
                                    days after they are added to
                             </div>
                         </div>
                        <div class="email-automation-trigger-list-drop" ng-click="emailListDropdown()">
<!--                            <select id="emaillist" ng-model="automationData.selectedEmailList" ng-change="emailListOnChange()" name="emaillist" class="input-field-textfield">
                                   <option value="0">-- Select --</option>
                                   <option ng-repeat ="Lists in emailLists_user" value="{{Lists.emailListName}}">{{Lists.emailListName}}</option>
                                   <option ng-repeat ="Lists in emailLists_mindbody" value="{{Lists.emailListName}}">{{Lists.emailListName}}</option>
                              </select>-->
                            <div dropdown-select="ddSelectEmailListAutomationDataOptions" dropdown-model="ddSelectEmailListAutomationData" dropdown-onchange="emailListOnChange(selected)"></div>
                        </div>
                    </div>
                     <div class="input-wrap">
                        <label> Enter a Time of Day to Send this Email</label>
                         <input id="timepicker1" readonly type="text" name="timepicker1" ng-model="automationData.time" class="input-field-textfield col-8of10" 
                               value="{{entity_details.recurring_email_time| date: 'hh : mm : a'}}" /> 
                        <script src="js/timepicki.js" type="text/javascript"></script>
                        <script>
                                   $('#timepicker1').timepicki({
                                       show_meridian: true,
                                       min_hour_value: 0,
                                       max_hour_value: 12,
                                       step_size_minutes: 01,
                                       overflow_minutes: true,
                                       increase_direction: 'up',
                                       disable_keyboard_mobile: true
                                   });
                        </script>
                    </div>
                </div>
                <div class="hub-section">
                     <div class="section-header">
                         <h3>Email Details</h3>
                     </div>
                    <div class="input-wrap">
                        <label> Enter a subject line: </label>
                        <div class="input">
                            <input id="recuring_email_title"  type="text" required placeholder="Enter Name of email" ng-model="automationData.title" value="{{entity_details.recurring_email_title}}" class="fluid"/>
                        </div>
                        <p class="input-wrap-label"> Make this something that your clients will recognize</p>
                    </div>
                    <div class="input-wrap">
                        <label> Enter a from name</label>
                        <div class="input">
                           <input id="from_name" class="fluid" type="text" ng-model="automationData.fromName" required  placeholder="Enter from name" 
                               value="{{entity_details.recurring_email_from_name}}"/>
                            <p class="input-wrap-label"> Any replies to your emails will go to this address</p>
                        </div>
                    </div>
                     <div class="input-wrap">
                        <label> Enter a Reply to Address</label>
                        <div class="input">
                            <input id="reply_to_address" class="fluid" ng-model="automationData.replyAddress" type="text" 
                               required  placeholder="Enter reply-to-address" 
                               value="{{entity_details.recurring_email_reply_to_email_address}}"/>
                            <p class="input-wrap-label"> Any replies to your emails will go to this address</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    
  
    <div id="emailautomation">
        
    <!--Email Preview-->
    <div id="fade" class="black_overlay" ></div>
    <div id="email_previewdiv">
        <div class="pop-up-background">
            <div class="pop-up-container-emailPreview" ng-show="emailPreviewPopup"> 
                <a class=" exit-button-detail-ep link svg" href="" id="closePrev" ng-click="closeEmailPreviewPopup()">
                    <img alt="" src="images/close.svg" class="closeemailpreview" style="cursor:pointer;"/> 
                </a>
                <div class="pop-up-title-emailpreview "> 
                    <div class="emailPreview-header fleft">Email Preview</div>
                </div>
                <!--inner-->
                <div class="pop-up-inner-ep height400">
                    <div class="emailPreviews col-1of1 fleft"> 
                        <div class="emailPreview-desktop-col  fleft">
                            <div class="emailPreview-headers">Desktop Preview</div>
                            <!--<div class="iphoneshow img-responsive" id="deskpreview" style="display: block; height: 300px; width: 295px; margin-left: 215px; margin-top: 50px; border-color: transparent; background-color: rgb(255, 255, 255); background-size: contain; background-repeat: no-repeat;">-->
                            <div class="content">  
                                <div id="dynamictable5" style="position: relative; width: 100%; border: none; overflow: scroll; height: 400px;background-color: rgb(255, 255, 255);" >

                                </div>                   
                            </div>
                            <!--</div>-->
                            <div class="desktopshow">
                                <iframe id='dynamictable' class="desktoppreview" src=''></iframe> 
                            </div>                        
                        </div>
                        <div class="emailPreview-mobile-col fleft">
                            <div class="emailPreview-headers">Mobile Preview</div>
                            <div class="iphoneshow img-responsive" id="mobpreview" style="display: block; height: 370px; width: 100%; margin-left: 6px; margin-top: 0px; border-color: transparent; background-color: rgb(255, 255, 255); background-size: contain; background-repeat: no-repeat;">
                                <div class="content">  
                                    <div  id="dynamictable6" style="position: relative; width: 100%; height: 400px; overflow: scroll; border: none; background-color: rgb(255, 255, 255);">

                                    </div>                
                                </div>
                                <!--</div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
     <!--Email Editor View-->
    <div class="content-wrap content-wrap-sequence-page-editor" id="emlautomeditorcontainer" ng-init="getEmailTemplates()" ng-show="automationEditor === true">
        <div class="email-frame" id="editor">
            <div id="edit" ng-init="initEmailAutomation()"></div>
        </div>
<!--    <script>
        $(document).ready(function () {
            $('#edit').froalaEditor({
                key: FroalaLicenseKey
            });
        });

        </script>   -->
        <div class="email-editor-right-col">
            <div class="email-editor-tab-wrap">
                <div class="r-col-editor-tab" class="{{addtemplatetab}}" id="addtemplatetab" ng-init="showTemplates()" ng-click="showTemplates()"> Choose Template</div>
                <div class="r-col-editor-tab" class="{{texttab}}" id="texttab" ng-init="showText('false')" ng-click="showText('true')">Personalization</div>
            </div>
            <div class="r-col-editor-wrap">
                <div class="editor-block-slat" ng-repeat="email_template in recuring_email_templates" ng-click="showHTMLData(email_template.html_data, email_template.template_id)">{{email_template.template_name}}</div>
            </div>
            <div class="r-col-editor-wrap" id="textdivheader" ng-show="textdivheader">
                <div class="textstyle">To add client name please use these options</div>
                <div class="textstyle">Ex: Hi &LT;clientFirstName&GT; </div>
                <div class="textstyle">Hi &LT;clientLastName&GT; </div>
                <div class="textstyle">Hi &LT;clientFullName&GT; </div>
            </div>
        </div>
         <div class="continue-bar-offset"></div>
    </div>
</div>
      </div>  
    
<!--Continue Bar-->
<div class="continue-bar-editor sequence-continue-bar">
    <div class="continue-bar-cta-wrap" ng-show="automationEditor === true">
        <a class="reg-button gray-button email-editor-cta" ng-click="addUpdateRecuringAction()">Save</a>
    </div>
    <div class="continue-bar-cta-wrap" ng-show="automationEditor === false">
        <a class="reg-button gray-button email-editor-cta" ng-click="addUpdateRecuringAction()">Continue</a>
    </div>
</div>
    
    <script src="js/froala_editor.min_editor.js" type="text/javascript"></script>
        <script src="js/plugins/code_view.min.js" type="text/javascript"></script>
        <!--<script type="text/javascript" src="js/emaileditor_new.js"></script>-->

        <link rel="stylesheet" href="css/plugins/code_view.css"/>
        <link rel="stylesheet" href="css/plugins/colors.css"/>
        <link rel="stylesheet" href="css/plugins/emoticons.css"/>
        <link rel="stylesheet" href="css/plugins/image_manager.css"/>
        <link rel="stylesheet" href="css/plugins/image.css"/>
        <link rel="stylesheet" href="css/plugins/line_breaker.css"/>
        <link rel="stylesheet" href="css/plugins/table.css"/>
        <link rel="stylesheet" href="css/plugins/char_counter.css"/>
        <link rel="stylesheet" href="css/plugins/video.css">
        <link rel="stylesheet" href="css/plugins/fullscreen.css"/>
        <link rel="stylesheet" href="css/plugins/file.css">
 <span ng-init="getFooterDetails()">
    <div ng-include src="'emailfooterpopup.html'"></div> 
</span>
    
    
    
    
    
    
    